# =============================================================
# KnowMint  — テスト環境設定テンプレート
#
# 使用方法:
#   cp .env.test.example .env.test
#   # 値を実際のものに差し替える
# =============================================================

# ── Supabase Local (supabase start) またはStaging ────────────────────────
# ローカル: supabase start → supabase status --output json で取得
STAGING_SUPABASE_URL=http://127.0.0.1:54321
STAGING_SUPABASE_ANON_KEY=eyJ...
STAGING_SERVICE_ROLE_KEY=eyJ...

# Next.js 用 (API route が参照)
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# ── Solana (devnet または ローカルバリデータ) ──────────────────────────────
# devnet:  NEXT_PUBLIC_SOLANA_NETWORK=devnet, RPC=https://api.devnet.solana.com
# ローカル: NEXT_PUBLIC_SOLANA_NETWORK=devnet, RPC=http://127.0.0.1:8899
#   → solana-test-validator --reset --quiet で起動
#   → airdrop: solana airdrop 10 <pubkey> --url http://127.0.0.1:8899
NEXT_PUBLIC_SOLANA_NETWORK=devnet
NEXT_PUBLIC_SOLANA_RPC_URL=https://api.devnet.solana.com
# x402 payment network (CAIP-2形式)
# devnet: solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1
# mainnet: solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp
X402_NETWORK=solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1

# node scripts/e2e/devnet-setup.mjs を実行して生成した値を設定する
TEST_BUYER_WALLET=<buyer_pubkey>
TEST_SELLER_WALLET=<seller_pubkey>
TEST_BUYER_KEYPAIR_PATH=./devnet-buyer-keypair.json
TEST_SELLER_KEYPAIR_PATH=./devnet-seller-keypair.json

# ── テスト用 API キー (scripts/seed/staging-seed.ts 実行後に出力される) ──
TEST_API_KEY_BUYER=km_...
TEST_API_KEY_SELLER=km_...

# ── devnet E2E テスト用 (test:e2e:devnet) ────────────────────────────────
# KM_TEST_KNOWLEDGE_ID: シードされた published knowledge item の UUID
KM_TEST_KNOWLEDGE_ID=<knowledge_item_uuid>
# KM_BASE_URL: dev server URL (デフォルト http://127.0.0.1:3000)
KM_BASE_URL=http://127.0.0.1:3000
