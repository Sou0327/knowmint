{"version": 3, "term": {"cols": 100, "rows": 40, "type": "xterm-256color"}, "timestamp": 1772287458, "command": "DEMO_BUYER_KEYPAIR_PATH=./devnet-buyer-keypair.json DEMO_SELLER_WALLET=6JbR1zfNVAJXMhCjEDqP9Jr7CvhosJ9q5qrhEV65p1xX KM_BASE_URL=http://localhost:3000 NEXT_PUBLIC_SOLANA_RPC_URL=http://127.0.0.1:8899 node scripts/demo/autonomous-purchase-demo.mjs", "env": {"SHELL": "/bin/zsh"}}
[0.500, "o", "\r\n\u001b[36m============================================================\u001b[0m\r\n"]
[0.001, "o", "\u001b[1m\u001b[36m  KnowMint - Autonomous AI Agent Purchase Demo\u001b[0m\r\n"]
[0.000, "o", "\u001b[36m============================================================\u001b[0m\r\n\r\n"]
[0.000, "o", "\u001b[2m  An AI agent discovers and purchases knowledge autonomously\u001b[0m\r\n"]
[0.000, "o", "\u001b[2m  using the x402 HTTP payment protocol.\u001b[0m\r\n"]
[1.501, "o", "\r\n\u001b[44m\u001b[1m\u001b[37m STEP 0 \u001b[0m \u001b[1m\u001b[33mEnvironment Setup Check\u001b[0m\r\n\r\n"]
[0.000, "o", "  \u001b[2m> Checking prerequisites...\r\n\u001b[0m"]
[0.001, "o", "  \u001b[2mSolana RPC:\u001b[0m \u001b[37mhttp://127.0.0.1:8899\u001b[0m\r\n"]
[0.056, "o", "  \u001b[32m[OK]\u001b[0m Solana RPC connected (3.0.15)\r\n"]
[0.006, "o", "  \u001b[32m[OK]\u001b[0m Cluster safety check passed (not mainnet)\r\n  \u001b[2mDev Server:\u001b[0m \u001b[37mhttp://localhost:3000\u001b[0m\r\n"]
[0.038, "o", "  \u001b[32m[OK]\u001b[0m Dev server healthy\r\n  \u001b[2mBuyer Wallet:\u001b[0m \u001b[37mFW6YUu1CuJb3cnaa6HkqtrA4Eey8WNZWzVtketxsTnWK\u001b[0m\r\n"]
[0.004, "o", "  \u001b[2mBuyer Balance:\u001b[0m \u001b[37m14.9980 SOL\u001b[0m\r\n  \u001b[32m[OK]\u001b[0m All prerequisites met\r\n"]
[1.000, "o", "\r\n\u001b[44m\u001b[1m\u001b[37m STEP 1 \u001b[0m \u001b[1m\u001b[33mkm_register — Wallet Authentication & Account Creation\u001b[0m\r\n\r\n"]
[0.000, "o", "  \u001b[36m> I need an API key. Let me register with my Solana wallet...\u001b[0m\r\n"]
[0.801, "o", "  \u001b[2m> Requesting auth challenge...\r\n\u001b[0m"]
[0.125, "o", "  \u001b[32m[OK]\u001b[0m Challenge received\r\n"]
[0.001, "o", "  \u001b[2mNonce:\u001b[0m \u001b[37mf2b6954539eda775...\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2m> Signing challenge with Ed25519...\r\n\u001b[0m"]
[0.587, "o", "  \u001b[32m[OK]\u001b[0m Challenge signed\r\n"]
[0.000, "o", "  \u001b[2m> Submitting registration...\r\n\u001b[0m"]
[0.464, "o", "  \u001b[32m[OK]\u001b[0m Account created successfully!\r\n"]
[0.000, "o", "  \u001b[2mUser ID:\u001b[0m \u001b[37mfcca5949-8831-455c-8b69-056d0d257c9d\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mAPI Key:\u001b[0m \u001b[37mkm_1b380cf...c72a\u001b[0m\r\n"]
[1.000, "o", "\r\n\u001b[44m\u001b[1m\u001b[37m STEP 2 \u001b[0m \u001b[1m\u001b[33mkm_search — Discovering Knowledge\u001b[0m\r\n\r\n"]
[0.000, "o", "  \u001b[36m> I need knowledge about \"prompt\" techniques. Let me search...\u001b[0m\r\n"]
[0.801, "o", "  \u001b[2m> Searching: \"prompt\"...\r\n\u001b[0m"]
[0.059, "o", "  \u001b[32m[OK]\u001b[0m Found 1 results\r\n\r\n"]
[0.001, "o", "  \u001b[33m[Quality: 0.00]\u001b[0m \u001b[32m[Trust: 0.00]\u001b[0m \u001b[37mAdvanced Prompt Engineering Techniques for GPT-4 & Claude\u001b[0m\r\n"]
[0.000, "o", "    \u001b[2mTags: #prompt-engineering #ai #gpt-4 #claude\u001b[0m\r\n    \u001b[2mID: da62bb61-d77a-4410-95f6-7730f73afd1b\u001b[0m\r\n"]
[0.000, "o", "  \u001b[36m> Selected: \"Advanced Prompt Engineering Techniques for GPT-4 & Claude\"\u001b[0m\r\n"]
[1.002, "o", "\r\n\u001b[44m\u001b[1m\u001b[37m STEP 3 \u001b[0m \u001b[1m\u001b[33mkm_get_detail — Evaluating Knowledge Item\u001b[0m\r\n\r\n"]
[0.000, "o", "  \u001b[36m> Let me check the details before purchasing...\u001b[0m\r\n"]
[0.801, "o", "  \u001b[2m> Fetching details for da62bb61-d77a-4410-95f6-7730f73afd1b...\r\n\u001b[0m"]
[0.107, "o", "  \u001b[2mTitle:\u001b[0m \u001b[37mAdvanced Prompt Engineering Techniques for GPT-4 & Claude\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mPrice:\u001b[0m \u001b[37m0.001 SOL\u001b[0m\r\n"]
[0.001, "o", "  \u001b[2mPreview:\u001b[0m \u001b[37mThis guide covers: 1) Chain-of-thought prompting 2) Few-shot learning 3) System prompt optimization ...\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mContent Type:\u001b[0m \u001b[37mprompt\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mPurchase Count:\u001b[0m \u001b[37m0\u001b[0m\r\n"]
[0.000, "o", "  \u001b[32m[OK]\u001b[0m Item looks valuable. Proceeding to purchase.\r\n"]
[1.004, "o", "\r\n\u001b[44m\u001b[1m\u001b[37m STEP 4 \u001b[0m \u001b[1m\u001b[33mkm_get_content — x402 Autonomous Payment Flow\u001b[0m\r\n\r\n  \u001b[36m> Attempting to access content...\u001b[0m\r\n"]
[0.804, "o", "  \u001b[2m> GET /content → expecting 402 Payment Required...\r\n\u001b[0m"]
[0.094, "o", "  \u001b[32m[OK]\u001b[0m Received HTTP 402 — Payment Required\r\n"]
[0.000, "o", "  \u001b[2mPayment Scheme:\u001b[0m \u001b[37mexact\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mPay To:\u001b[0m \u001b[37m6JbR1zfNVAJXMhCjEDqP9Jr7CvhosJ9q5qrhEV65p1xX\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mAmount (lamports):\u001b[0m \u001b[37m1000000\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mNetwork:\u001b[0m \u001b[37msolana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mAsset:\u001b[0m \u001b[37mnative (SOL)\u001b[0m\r\n"]
[0.500, "o", "  \u001b[2m> Verifying payment parameters...\r\n\u001b[0m"]
[0.001, "o", "  \u001b[32m[OK]\u001b[0m payTo matches DEMO_SELLER_WALLET\r\n"]
[0.000, "o", "  \u001b[32m[OK]\u001b[0m Amount matches item price: 1000000 lamports\r\n  \u001b[32m[OK]\u001b[0m Payment parameters verified\r\n"]
[0.000, "o", "  \u001b[36m> Sending SOL payment on-chain...\u001b[0m\r\n"]
[0.648, "o", "  \u001b[32m[OK]\u001b[0m Transaction confirmed!\r\n  \u001b[2mTX Hash:\u001b[0m \u001b[37m2vHjLqKtnXvmpm8uinaea7S49MgJwmctzpfbWJbQkqZBB9mGAjQfaoD9F3HnpDsk8GkDW31Bp2qaieMcF4aic9GV\u001b[0m\r\n"]
[0.500, "o", "  \u001b[36m> Building x402 payment proof...\u001b[0m\r\n"]
[0.501, "o", "  \u001b[2mX-PAYMENT:\u001b[0m \u001b[37meyJzY2hlbWUiOiJleGFjdCIsIm5ldHdvcmsiOiJz...\u001b[0m\r\n"]
[0.000, "o", "\r\n\u001b[44m\u001b[1m\u001b[37m STEP 5 \u001b[0m \u001b[1m\u001b[33mContent Retrieved — Purchase Complete!\u001b[0m\r\n\r\n"]
[0.000, "o", "  \u001b[36m> Retrying with payment proof...\u001b[0m\r\n"]
[0.599, "o", "  \u001b[32m[OK]\u001b[0m Content access granted!\r\n"]
[0.500, "o", "\r\n\u001b[45m\u001b[1m\u001b[37m PURCHASED CONTENT \u001b[0m\r\n\r\n  \u001b[37m# Advanced Prompt Engineering Techniques\r\n\r\n## 1. Chain-of-Thought Prompting\r\nBreak complex tasks into steps. Example:\r\n\"Let's think step by step. First, identify the key entities...\"\r\n\r\n## 2. Few-Shot Learning\r\nProvide 2-3 examples before the actual task:\r\n\"Example 1: Input: ... Output: ...\r\nExample 2: Input: ... Output: ...\"\r\n\r\n## 3. System Prompt Optimization\r\n- Be specific about the role and constraints\r\n- Define output format explicitly\r\n- Include edge case handling instructions\r\n\r\n## 4. Output Format Cont\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2m... (748 chars total)\u001b[0m\r\n"]
[0.500, "o", "\r\n\u001b[36m============================================================\u001b[0m\r\n"]
[0.000, "o", "\u001b[1m\u001b[36m  Demo Complete — AI Agent Autonomous Purchase via x402\u001b[0m\r\n\u001b[36m============================================================\u001b[0m\r\n\r\n"]
[0.001, "o", "  \u001b[2mFlow: Register -> Search -> Detail -> 402 -> Pay -> Content\u001b[0m\r\n  \u001b[2mProtocol: x402 (HTTP 402 Payment Required)\u001b[0m\r\n"]
[0.000, "o", "  \u001b[2mChain: Solana (devnet)\u001b[0m\r\n  \u001b[2mTX: 2vHjLqKtnXvmpm8uinaea7S49MgJwmctzpfbWJbQkqZBB9mGAjQfaoD9F3HnpDsk8GkDW31Bp2qaieMcF4aic9GV\u001b[0m\r\n"]
[0.000, "o", "\r\n"]
[0.017, "x", "0"]
